
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Fastlane Match: manually updating the git repo</title>
    <meta name="description" content="">

    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="../favicon.ico">

    <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap.min.css?v=a12a5c0d2a">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
    <link href="http://fonts.googleapis.com/css?family=Droid+Serif:300,400,700,400italic%7COpen+Sans" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="../assets/css/screen.css?v=a12a5c0d2a">
    <link rel="stylesheet" type="text/css" href="../assets/css/blog.css?v=a12a5c0d2a">
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/darkula.min.css">

    <link rel="canonical" href="http://blog.jakegardner.me/fastlane-match-manually-updating-the-git-repo/">
    
    <meta property="og:site_name" content="Jake Gardner">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Fastlane Match: manually updating the git repo">
    <meta property="og:description" content="There have been a couple of times where I wanted to replace a signing certificate in use with one of our apps.  For example, a certificate is expiring soon, and I want to create a new one and seamlessly transfer...">
    <meta property="og:url" content="http://blog.jakegardner.me/fastlane-match-manually-updating-the-git-repo/">
    <meta property="article:published_time" content="2018-11-03T12:03:18.179Z">
    <meta property="article:modified_time" content="2018-11-03T12:03:18.178Z">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Fastlane Match: manually updating the git repo">
    <meta name="twitter:description" content="There have been a couple of times where I wanted to replace a signing certificate in use with one of our apps.  For example, a certificate is expiring soon, and I want to create a new one and seamlessly transfer...">
    <meta name="twitter:url" content="http://blog.jakegardner.me/fastlane-match-manually-updating-the-git-repo/">
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Jake Gardner",
    "author": {
        "@type": "Person",
        "name": "Jake Gardner",
        "url": "http://blog.jakegardner.me/author/jake",
        "sameAs": null
    },
    "headline": "Fastlane Match: manually updating the git repo",
    "url": "http://blog.jakegardner.me/fastlane-match-manually-updating-the-git-repo/",
    "datePublished": "2018-11-03T12:03:18.179Z",
    "dateModified": "2018-11-03T12:03:18.178Z",
    "description": "There have been a couple of times where I wanted to replace a signing certificate in use with one of our apps.  For example, a certificate is expiring soon, and I want to create a new one and seamlessly transfer..."
}
    </script>

    <meta name="generator" content="Ghost 0.5">
    <link rel="alternate" type="application/rss+xml" title="Jake Gardner" href="http://blog.jakegardner.me/rss/">
</head>
<body class="post-template">
    <nav class="navbar" role="navigation">
        <div class="container-fluid">
            <div class="row">
                <div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 navbar-header">
                    <span class="navbar-brand">
                        <a href="../"><span class="nav-link">Jake Gardner</span></a>
                    </span>
                    <ul class="navbar-social">
                        <li><a class="social-link" href="https://github.com/jakegardner"><span class="fa fa-github fa-lg fa-fw"></span></a></li>
                        <li><a class="social-link" href="https://twitter.com/jakegardnr"><span class="fa fa-twitter fa-lg fa-fw"></span></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    


<main class="post-content" role="main">

    <article class="post">

        <header class="post-header">
            <h1 class="post-title">Fastlane Match: manually updating the git repo</h1>
            <section class="post-meta">
                
            </section>
        </header>

        <section class="post-content">
            <p>There have been a couple of times where I wanted to replace a signing certificate in use with one of our apps. <br>
For example, a certificate is expiring soon, and I want to create a new one and seamlessly transfer to the new certificate without orphaning app installs still using the old certificate.</p>

<p>Your only option via <code>fastlane</code> is to <code>fastlane nuke</code> and start over. But this removes <em>everything</em>, and invalidates the signing of your existing installed apps. [To be fair, this is only for enterprise deployments, i.e. non-app store.]</p>

<p>After creating a new certificate and provisioning profile pair in the Apple Developer Portal, you can then follow the steps below to get them in the match git repo so they will get picked up by <code>fastlane match</code>, while the old certificate and profile are still valid on the Developer Portal.</p>

<ol>
<li>Run <code>irb</code> in the terminal, followed by these commands:  </li>
<li><code>require 'match'</code>  </li>
<li><code>git_url = '&lt;github url&gt;'</code>  </li>
<li><code>workspace = Match::GitHelper.clone(git_url, false)</code>  </li>
<li>Open the workspace directory reported by the previous command in Finder.  </li>
<li>In the <code>certs</code> folder, replace the <code>.cer</code> and <code>.p12</code> files with the new versions.  </li>
<li>In the <code>profiles</code> folder, replace the provisioning profile.  </li>
<li>Back in the <code>irb</code> console, run <code>Match::GitHelper.commit_changes(workspace, "manual profile update", git_url)</code></li>
</ol>

<p>That's it.</p>
        </section>

        <time class="post-date" datetime="2018-11-03">03 November 2018</time>
        <footer class="post-footer">



            <section class="author">
                <h4><a href="http://blog.jakegardner.me/">Jake Gardner</a></h4>

                    <p>Read <a href="http://blog.jakegardner.me/">more posts</a> by this author.</p>
                <div class="author-meta">
                    
                    
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/share?text=Fastlane%20Match%3A%20manually%20updating%20the%20git%20repo&amp;url=http://blog.jakegardner.me/fastlane-match-manually-updating-the-git-repo/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.jakegardner.me/fastlane-match-manually-updating-the-git-repo/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://blog.jakegardner.me/fastlane-match-manually-updating-the-git-repo/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>

            <div id="disqus_thread"></div>
            <script>
                var disqus_config = function () {
                    this.page.url = "http://blog.jakegardner.me/fastlane-match-manually-updating-the-git-repo/";
                    this.page.identifier = "/fastlane-match-manually-updating-the-git-repo/";
                    this.page.title = "Fastlane Match: manually updating the git repo";
                };
                (function() {
                var d = document, s = d.createElement('script');
                s.src = '//blogjakegardnerme.disqus.com/embed.js';
                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
        </footer>

    </article>

</main>



    <script src="../public/jquery.js?v=a12a5c0d2a"></script>

    <!-- <script type="text/javascript" src="/assets/js/jquery.fitvids.js?v=a12a5c0d2a"></script>
    // <script type="text/javascript" src="/assets/js/index.js?v=a12a5c0d2a"></script> -->


    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-70122057-1', 'auto');
      ga('send', 'pageview');

    </script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</body>
