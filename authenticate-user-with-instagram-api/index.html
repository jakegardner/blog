
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Authenticate User with Instagram API</title>
    <meta name="description" content="">

    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="../favicon.ico">

    <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap.min.css?v=7c34524022">
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="http://fonts.googleapis.com/css?family=Droid+Serif:300,400,700,400italic%7COpen+Sans" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="../assets/css/screen.css?v=7c34524022">
    <link rel="stylesheet" type="text/css" href="../assets/css/blog.css?v=7c34524022">

    <link rel="canonical" href="index.html">
    
    <meta property="og:site_name" content="Jake Gardner">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Authenticate User with Instagram API">
    <meta property="og:description" content="Recently, I was working with the Instagram API for one of my side-projects. This is a short walkthrough of how to implement the server-side flow of Instagram user authentication in Node.js.  In order for your application to make queries...">
    <meta property="og:url" content="http://localhost:2368/authenticate-user-with-instagram-api/">
    <meta property="article:published_time" content="2015-06-05T11:34:45.127Z">
    <meta property="article:modified_time" content="2015-12-05T05:35:31.467Z">
    <meta property="article:tag" content="node">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Authenticate User with Instagram API">
    <meta name="twitter:description" content="Recently, I was working with the Instagram API for one of my side-projects. This is a short walkthrough of how to implement the server-side flow of Instagram user authentication in Node.js.  In order for your application to make queries...">
    <meta name="twitter:url" content="http://localhost:2368/authenticate-user-with-instagram-api/">
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Jake Gardner",
    "author": {
        "@type": "Person",
        "name": "Jake Gardner",
        "url": "http://localhost:2368/author/jake",
        "sameAs": null
    },
    "headline": "Authenticate User with Instagram API",
    "url": "http://localhost:2368/authenticate-user-with-instagram-api/",
    "datePublished": "2015-06-05T11:34:45.127Z",
    "dateModified": "2015-12-05T05:35:31.467Z",
    "keywords": "node",
    "description": "Recently, I was working with the Instagram API for one of my side-projects. This is a short walkthrough of how to implement the server-side flow of Instagram user authentication in Node.js.  In order for your application to make queries..."
}
    </script>

    <meta name="generator" content="Ghost 0.5">
    <link rel="alternate" type="application/rss+xml" title="Jake Gardner" href="../rss/index.html">
</head>
<body class="post-template tag-node">
    <nav class="navbar" role="navigation">
        <div class="container-fluid">
            <div class="row">
                <div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 navbar-header">
                    <span class="navbar-brand">
                        <a href="../"><span class="nav-link">Jake Gardner</span></a>
                    </span>
                    <ul class="navbar-social">
                        <li><a class="social-link" href="https://github.com/jakegardner"><span class="fa fa-github fa-lg fa-fw"></span></a></li>
                        <li><a class="social-link" href="https://twitter.com/_jacobgardner"><span class="fa fa-twitter fa-lg fa-fw"></span></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>
    
    


<main class="post-content" role="main">

    <article class="post tag-node">

        <header class="post-header">
            <h1 class="post-title">Authenticate User with Instagram API</h1>
            <section class="post-meta">
                 on <a href="../tag/node/">node</a>
            </section>
        </header>

        <section class="post-content">
            <p>Recently, I was working with the Instagram API for one of my side-projects. This is a short walkthrough of how to implement the <a href="https://instagram.com/developer/authentication/">server-side flow</a> of Instagram user authentication in Node.js. </p>

<p>In order for your application to make queries to the <a href="https://instagram.com/developer">Instagram API</a> on your user's behalf, they must authorize your application by logging in with their Instagram credentials. Your application will receive an authorization code in return, and you then need to authenticate this code with Instagram to receive an access token. The access token grants you access to query the REST API.</p>

<p>Instagram requires that the authentication query be sent as form data (<a href="http://www.w3.org/TR/html5/forms.html#url-encoded-form-data">x-www-form-urlencoded</a>) instead of JSON. The documentation shows how to make the query using curl -- since I was doing this in Node, I installed a module called <a href="http://unirest.io/nodejs.html">unirest</a>. Here's the code:</p>

<pre><code>var unirest = require('unirest');
unirest.post("https://api.instagram.com/oauth/access_token")
      .send("client_id=XXXXXXXXXXXXXXXXXXXXXX")
      .send("client_secret=XXXXXXXXXXXXXXXXXX")
      .send("grant_type=authorization_code")
      .send("redirect_uri=http://url.me")
      .send("code=XXXXXXXXXXXXXXXXXXXXXXXXXXXX")
      .end(function (response) {
        console.log(response.body);
      }); 
</code></pre>

<p>In response, you will receive a JSON object similar to the following:</p>

<pre><code>    {
        "access_token":"fb2e77d.47a0479900504cb3ab4a1f626d174d2d",
        "user": {
            "id": "1000000",
            ...
        }
    }
</code></pre>

<p>When you query one of the Instagram API endpoints, include the access_token as a query (URL) parameter.</p>

<pre><code>unirest.get("https://api.instagram.com/v1/users/self/feed")
     .query("access_token=fb2e77d.47a0479900504cb3ab4a1f626d174d2d")
      .end(function(response) {
        console.log(response);
      });
</code></pre>

<p>You will probably consume the response instead of log to the console, but you get the idea!</p>
        </section>

        <time class="post-date" datetime="2015-06-05">05 June 2015</time>
        <footer class="post-footer">



            <section class="author">
                <h4><a href="http://localhost:2368/author/jake/">Jake Gardner</a></h4>

                    <p>Read <a href="http://localhost:2368/author/jake/">more posts</a> by this author.</p>
                <div class="author-meta">
                    
                    
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/share?text=Authenticate%20User%20with%20Instagram%20API&amp;url=http://localhost:2368/authenticate-user-with-instagram-api/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:2368/authenticate-user-with-instagram-api/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://localhost:2368/authenticate-user-with-instagram-api/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        </footer>

    </article>

</main>



    <script src="../public/jquery.js?v=7c34524022"></script>

    <!-- <script type="text/javascript" src="/assets/js/jquery.fitvids.js?v=7c34524022"></script>
    // <script type="text/javascript" src="/assets/js/index.js?v=7c34524022"></script> -->


    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-70122057-1', 'auto');
      ga('send', 'pageview');

    </script>
</body>
